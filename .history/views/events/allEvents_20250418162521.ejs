<% layout('/layouts/boilerplate.ejs') %>
<body>
    <h3>All Events</h3>
    <!-- <form method="get" action="/events/new">
        <button>Create Events</button>
    </form> -->
    <div class="row row-cols-lg-3 row-cols-md-2 row-cols-1 g-4">
        <% for(let event of allEvents) { %>
          <div class="col">
            <div class="card h-100 position-relative custom-card">
              <a href="/events/<%= event._id %>" class="stretched-link text-decoration-none text-dark">
                <img src="<%= event.image %>" class="card-img-top" alt="event_image" style="height: 20rem; object-fit: cover;">
                <div class="card-body">
                  <h5 class="card-title"><%= event.title %></h5>
                  <p class="card-text"><%= event.description.substring(0,100)%>...</p>
                  <p>
                    <%= new Date(event.date).toLocaleDateString('en-US', {
                      weekday: 'short',
                      year: 'numeric',
                      month: 'long',
                      day: 'numeric'
                    }) %>
                  </p>
                  <p>&#8377;<%= event.price.toLocaleString("en-IN") %></p>
                  <p><%= event.location %></p>
                </div>
              </a>
      
              <!-- Book Button - outside <a> to override link -->
              <div class="card-footer bg-transparent border-0">
                <a href="/events/<%= event._id %>/book" class="btn btn-primary position-relative z-2">Book</a>
              </div>
            </div>
          </div>
        <% } %>
      </div>
      
    
</body>


